import React, { useEffect, useState, useRef } from "react";
import styled from "styled-components";

const Container = styled.div`
  width: 20vw;
  max-width: 300px;
  margin: 0px auto;
  padding: 0px;
`;

const IntroLogo = props => {
  const [dashOffset, setDashOffset] = useState(-1500);
  const [slashOpacity, setSlashOpacity] = useState(1);
  const lineRef = useRef(null);
  const slashRef = useRef(null);
  useEffect(() => {
    lineRef.current.style = "transition: all 500ms linear;";
    const offsetTimer = setTimeout(() => setDashOffset(0), 200);
    const slashTimer = setTimeout(() => {
      if (slashOpacity === 1) {
        setSlashOpacity(0);
      } else {
        setSlashOpacity(1);
      }
    }, 500);
    return () => {
      clearTimeout(slashTimer);
      clearTimeout(offsetTimer);
    };
  });

  return (
    <Container>
      <svg
        version="1.1"
        id="Layer_1"
        x="0px"
        y="0px"
        viewBox="0 0 500 500"
        xml="true"
        space="preserve"
      >
        <g>
          <g>
            <path
              className="st0"
              fill="#E66D6B"
              d="M218.9,210.2c-19.2-7.9-38.5-15.2-57.8-22.9c-5.6-2.2-11.2-4.5-16.7-6.8c0.6,4.6,1.2,9.1,1.8,13.7
			c19-8.1,38-16.3,56.9-24.5c5.6-2.4,11.2-4.8,16.8-7.2c1.6-0.7,3-2.9,3.4-4.5c0.5-1.8,0.3-4.2-0.8-5.8c-1-1.6-2.6-3-4.5-3.4
			c-2.1-0.5-3.8-0.1-5.8,0.8c-19,8.1-38,16.3-56.9,24.5c-5.6,2.4-11.2,4.8-16.8,7.2c-1,0.4-2.1,1.7-2.7,2.7
			c-0.9,1.5-1.1,3.1-0.9,4.8c0.2,1.4,0.6,2.5,1.5,3.6c1.1,1.4,2.3,2,3.9,2.7c19.2,7.9,38.5,15.2,57.8,22.9
			c5.6,2.2,11.2,4.5,16.7,6.8c1.7,0.7,4.3,0.1,5.8-0.8c1.6-0.9,3-2.7,3.4-4.5c0.4-1.9,0.3-4.1-0.8-5.8
			C222.3,211.9,220.8,211,218.9,210.2L218.9,210.2z"
            />
          </g>
        </g>
        <g>
          <g>
            <path
              className="st0"
              fill="#E66D6B"
              d="M275.6,162.6c19,8.1,38,16.3,57,24.5c5.6,2.4,11.2,4.8,16.8,7.2c0.6-4.6,1.2-9.1,1.8-13.7
			c-17.2,7.1-34.2,14.6-51.2,22c-4.8,2.1-9.5,4.1-14.3,6.1c0.6-0.2,1.2-0.5,1.8-0.8c-3.3,1.4-6.6,2.8-10,4.2
			c-1.9,0.8-3.4,1.6-4.5,3.4c-0.9,1.6-1.3,4-0.8,5.8c0.6,1.8,1.7,3.6,3.5,4.5c1.7,0.9,4,1.5,5.8,0.8c17.2-7.1,34.2-14.6,51.2-22
			c4.8-2.1,9.5-4.1,14.3-6.1c-0.6,0.2-1.2,0.5-1.8,0.8c3.3-1.4,6.6-2.8,10-4.2c1.2-0.5,2.4-1,3.3-1.9c1.2-1.2,1.8-2.7,2.1-4.3
			c0.2-1.4,0-2.6-0.5-3.9c-0.6-1.3-1.7-3-3.1-3.6c-19-8.1-38-16.3-57-24.5c-5.6-2.4-11.2-4.8-16.8-7.2c-1.9-0.8-3.6-1.3-5.8-0.8
			c-1.7,0.5-3.6,1.8-4.5,3.4c-0.9,1.7-1.4,3.9-0.8,5.8C272.7,159.9,273.8,161.9,275.6,162.6L275.6,162.6z"
            />
          </g>
        </g>
        <g>
          <g>
            <path
              id="forward-slash"
              className="st0"
              ref={slashRef}
              opacity={slashOpacity}
              fill="#E66D6B"
              d="M251.9,132.2c-0.7,3.5-1.3,6.9-2,10.4c-1.6,8.3-3.2,16.6-4.8,24.9
			c-1.9,10-3.9,20.1-5.8,30.1c-1.7,8.7-3.4,17.4-5.1,26.2c-0.8,4.2-1.7,8.4-2.4,12.7c0,0.1,0,0.1,0,0.2c-0.4,2-0.3,4,0.8,5.8
			c0.9,1.6,2.7,3,4.5,3.4c3.7,0.8,8.4-1.1,9.2-5.2c0.7-3.5,1.3-6.9,2-10.4c1.6-8.3,3.2-16.6,4.8-24.9c1.9-10,3.9-20.1,5.8-30.1
			c1.7-8.7,3.4-17.4,5.1-26.2c0.8-4.2,1.7-8.4,2.5-12.7c0-0.1,0-0.1,0-0.2c0.4-2,0.3-4-0.8-5.8c-0.9-1.6-2.7-3-4.5-3.4
			C257.5,126.2,252.7,128.1,251.9,132.2L251.9,132.2z"
            />
          </g>
        </g>
        <path
          className="st1"
          fill="none"
          stroke="#EAEAEA"
          strokeWidth="15"
          strokeDasharray="5000"
          strokeDashoffset={dashOffset}
          strokeLinecap="round"
          strokeMiterlimit="10"
          ref={lineRef}
          id="stack-line"
          d="M94.5,314l149.3,69c5.5,2.5,11.8,2.5,17.3-0.1l132.7-62.5c7.1-3.4,11.7-10.5,11.7-18.4V266l-152,67.5
	c0,0-158-65.1-158-65.5c0,0,0-51.4,0-52l158,66.5c32.2-14.9,151.1-64.3,151-64.5c-0.1-0.1,0-23.7,0-39.4c0-8.3-4.9-15.8-12.5-19.1
	l-133-57.8c-5.4-2.4-11.6-2.3-17,0.2c-31.1,14.3-137.8,63.4-145.6,67.1"
        />
      </svg>
    </Container>
  );
};

export default IntroLogo;
